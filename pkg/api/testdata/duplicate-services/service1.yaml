name: cloudrun-srv
runtime: cloudrun # could also be "k8s", "lambda"
artifact:
  base_name: gcr.io/chaordic/hello-app # repository?
  type: docker
network: ## not sure about how to map exposed ports
  http:
    public: true
    path: /foo
depends_on:
  cloudsql: 
  - name: my-pg-db
    type: postgres # mysql, dynamodb, etc
  pubsub:
    consume:
    - some_event
    - some_other_event
    produce:
    - third_type_of_event
  gcs_storage:
    - name: foo-bucket
      access: read
    - name: bar
      access: readwrite
env:
  vars:
    foo: bar
  secrets:
    verySecret: 
      name: very-secret
      mount: /foo/bar
      type: volume # envVar